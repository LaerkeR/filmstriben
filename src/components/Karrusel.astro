---
import Plakatcard from "../components/Plakatcard.astro";
---

<section class="px-12">
  <!-- Content -->
  <div class="align-bottom mb-8">
    <h2 class="text-md">Oscar-film | vindere og nominerede</h2>
    <div class="progress_bar flex justify-end mr-8 gap-2">
      <div class="w-5 h-1 bg-grey-200"></div>
      <div class="w-5 h-1 bg-grey-500"></div>
      <div class="w-5 h-1 bg-grey-500"></div>
      <div class="w-5 h-1 bg-grey-500"></div>
      <div class="w-5 h-1 bg-grey-500"></div>
    </div>
  </div>

  <div>
    <div class="relative px-8 h-fit overflow-hidden">
      <div
        class="next-button absolute flex h-full w-fit justify-end right-0 z-40"
      >
        <button class="bg-black opacity-80 w-40"
          ><p class="lightIcon">angle-right</p>
        </button>
      </div>
      <div
        class="prev-button absolute flex h-full w-fit justify-end left-0 z-40"
      >
        <button class="bg-black opacity-80 w-40"
          ><p class="lightIcon">angle-left</p>
        </button>
      </div>
      <div
        class="carousel relative w-full flex gap-16 snap-x snap-mandatory overflow-x-auto"
      >
        <div class="snap-start scroll-mx-6 shrink-0">
          <div class="shrink-0 w-0"></div>
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="card snap-start scroll-mx-6 shrink-0">
          <Plakatcard />
        </div>
        <div class="snap-start scroll-mx-6 shrink-0">
          <div class="shrink-0 w-3 sm:w-96 h-40 sm:-ml-[2px]"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const carousel = document.querySelector(".carousel");
    const prevButton = document.querySelector(".prev-button");
    const nextButton = document.querySelector(".next-button");

    const cardWidth = 300; // Bredden af hvert kort i pixels
    let currentPosition = 0; // Den aktuelle position i karrusellen

    // Opdater karrusellen baseret på den aktuelle position
    function updateCarousel() {
      carousel.style.transform = `translateX(${currentPosition}px)`;
    }

    // Flyt karrusellen til venstre
    function slideNext() {
      currentPosition -= cardWidth;
      updateCarousel();
    }

    // Flyt karrusellen til højre
    function slidePrev() {
      currentPosition += cardWidth;
      updateCarousel();
    }

    // Lyt efter klik på knapperne
    nextButton.addEventListener("click", slideNext);
    prevButton.addEventListener("click", slidePrev);
  });
</script>
